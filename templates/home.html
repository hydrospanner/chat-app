{% extends "base.html" %}

{% block scripts %}
{{super()}}
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
<script type="text/javascript" charset="utf-8">
    $(document).ready(function () {
        var socket = io.connect('http://' + document.domain + ':' + location.port);
        socket.on('connect', function() {
            socket.send('user connected');
        });
        socket.on('message', function (msg) {
            $("#messages").append('<li>' + msg + '</li>');
            });

        $('#sendbutton').on('click', function () {
            socket.send($('#mymessage').val());
            $('#mymessage').val('');
        });
    })
</script>
{% endblock %}

{% block title %}
Chit-chat
{% endblock %}

{% block content %}
<div class="container">
    <h1>Chat here</h1>
    <div class="row">
        <div class="col-sm-6">
            <ul id="messages"></ul>
            <textarea class="form-control" rows="5" id="mymessage"></textarea>
            <button id="sendbutton">Send</button>
        </div>
        <div class="col-sm-6">I'm a side-bar!</div>
        <p></p>
    </div>
    
</div>
{% endblock %}